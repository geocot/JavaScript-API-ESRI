<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Introduction à l'API Esri</title>
    <link rel="stylesheet" href="https://js.arcgis.com/3.29/esri/css/esri.css">
    <script src="https://js.arcgis.com/3.29/"></script>
    <style>
        html,
        body,
        #maCarte {
            height: 100%;
            margin: 0;
            padding: 0;
        }
    </style>
</head>

<body>

    <script>
        var map;

        require(["dojo/on", "esri/map", "esri/geometry/Point", "esri/graphic", "esri/symbols/SimpleMarkerSymbol", "esri/Color", "esri/InfoTemplate", "dojo/domReady!"],
            function (on, Map, Point, Graphic, SimpleMarkerSymbol,InfoTemplate, Color) {
                map = new Map("maCarte",
                    {
                        basemap: "topo",
                        center: [-71, 46],
                        zoom: 5
                    });

                map.on("load", function (e) {
                   
                    /*var symbol = new SimpleMarkerSymbol({
                        "color": [0,255 ,0 , 1],
                        "size": 12,
                        "angle": -30,
                        "xoffset": 0,
                        "yoffset": 0,
                        "type": "esriSMS",
                        "style": "esriSMSCircle",
                        "outline": {
                            "color": [0, 0, 0, 255],
                            "width": 1,
                            "type": "esriSLS",
                            "style": "esriSLSSolid"
                        }
                    });*/
                    const Qc = new Point(-71.2,46.8)

                    var symbol = new SimpleMarkerSymbol().setStyle(SimpleMarkerSymbol.STYLE_CIRCLE).setColor([0,255,0,1]);
                    /*  var attr = {"Xcoord":evt.mapPoint.x,"Ycoord":evt.mapPoint.y,"Plant":"Mesa Mint"};
                     var infoTemplate = new InfoTemplate("Vernal Pool Locations","Latitude: ${Ycoord} <br/>
                        Longitude: ${Xcoord} <br/>
                        Plant Name:${Plant}");
                    var graphic = new Graphic(pt,sms,attr,infoTemplate);*/
                    console.log(Qc.x);
                    var attr = {"Xcoord":Qc.x,"Ycoord":Qc.y,"Nom":"Québec"};

                    var infoTemplate = new InfoTemplate("Ville","Latitude: ${Ycoord} <br/>Longitude: ${Xcoord} <br/>Nom de la ville:${Nom}");
                   var coucheGraphique = new Graphic(Qc, symbol,attr,infoTemplate);
                    map.graphics.add(coucheGraphique);

                });

            });


    </script>
    <div id="maCarte"></div>

</body>

</html>